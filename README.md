# Сервис сокращения ссылок

Этот проект представляет собой простой сервис для сокращения длинных URL-адресов в короткие ссылки. Он позволяет пользователям создавать, переходить, удалять и редактировать свои короткие ссылки. 
Также реализована автоматическая очистка ссылок по истечении срока действия.

## Как пользоваться сервисом

1.  **Запуск программы:**
    *   Убедитесь, что у вас установлена Java 11 или более поздняя версия.
    *   Скомпилируйте исходные Java-файлы.
    *   Запустите класс `Main`.

    ```bash
    javac Main.java
    java Main
    ```

2.  **Интерактивное меню:**
    После запуска программы, вы увидите интерактивное меню в консоли:

    ```
    Выберите действие:
    1. Создать короткую ссылку
    2. Перейти по короткой ссылке
    3. Удалить свою ссылку
    4. Редактировать свою ссылку
    5. Выйти
    Введите номер действия:
    ```

    Вводите номер выбранного пункта и следуйте дальнейшим инструкциям в консоли.

## Поддерживаемые команды

Сервис поддерживает следующие команды:

*   **1. Создать короткую ссылку:**
    *   Запрашивает длинную ссылку.
    *   Запрашивает `UUID` пользователя (оставьте пустым для генерации нового).
    *   Запрашивает лимит переходов.
    *   Генерирует и сохраняет короткую ссылку.
    *   60 минут - срок действия ссылки по умолчанию. Изменить в файле *package entity - Link.java  public static final int DEFAULT_EXPIRATION_MINUTES = 60;
*   **2. Перейти по короткой ссылке:**
    *   Запрашивает короткую ссылку.
    *   Выполняет перенаправление на оригинальную длинную ссылку, если ссылка активна .
    *   Уменьшает количество оставшихся кликов.
    *   Отправляет уведомление, если ссылка не активна или истек срок действия.
*  **3. Удалить свою ссылку:**
    *   Запрашивает `UUID` пользователя.
    *  Запрашивает короткую ссылку для удаления.
      *   Удаляет ссылку, если пользователь является ее владельцем.
*   **4. Редактировать свою ссылку:**
    *   Запрашивает `UUID` пользователя.
     *   Запрашивает короткую ссылку для редактирования.
    *    Запрашивает новый лимит переходов.
    *    Запрашивает новый срок действия(в минутах).
    *   Обновляет ссылку, если пользователь является ее владельцем.
*   **5. Выйти:**
    *   Завершает работу программы.

## Как протестировать код
Протестировать код Вы можете запустив один из его сценариев. Можете начать с самого начала и создать короткую ссылку(1), потом перейти по ней (2), отредактировать (4) и удалить (3).

## Используемые внешние библиотеки

*   **Lombok:** Для упрощения создания классов с геттерами, сеттерами и конструкторами.
   *   Чтобы установить Lombok, добавьте его в зависимости вашего проекта.
      *   Если вы используете Maven:
         ```xml
            <dependency>
               <groupId>org.projectlombok</groupId>
               <artifactId>lombok</artifactId>
               <version>1.18.30</version>
               <scope>provided</scope>
           </dependency>
        ```
        *   Если вы используете Gradle:
          ```gradle
             compileOnly 'org.projectlombok:lombok:1.18.30'
             annotationProcessor 'org.projectlombok:lombok:1.18.30'
           ```
   *  И установите плагин Lombok в IDE (например в IntelliJ IDEA).
* **Apache Commons Codec:** Для кодирования в base64
  *  Чтобы установить, добавьте его в зависимости вашего проекта:
     *  Если вы используете Maven:
      ```xml
       <dependency>
        <groupId>commons-codec</groupId>
        <artifactId>commons-codec</artifactId>
        <version>1.16.0</version>
      </dependency>
       ```
     *   Если вы используете Gradle:
       ```gradle
         implementation 'commons-codec:commons-codec:1.16.0'
      ```

## Структура проекта

*   **`entity`:** Содержит класс `Link` для представления ссылки.
*   **`repository`:**
    *   Содержит интерфейс `LinkRepository` для доступа к данным.
    *   Содержит реализацию `LinkRepositoryImpl`, хранящую ссылки в памяти.
*   **`service`:**
    *   Содержит интерфейсы `ShortLinkGenerator`, `NotificationService`, `UserService`.
    *   Содержит реализации `ShortLinkGeneratorImpl`, `NotificationServiceImpl`, `UserServiceImpl`.
